<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
		<title>Knight Scout</title>

		<link rel="stylesheet" type="text/css" href="css/vendor/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="css/vendor/bootstrap-grid.min.css" />

		<link rel="stylesheet" type="text/css" href="css/pages.css" />
	</head>
	<body class="is-app-loading">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark js-navbar">
			<a class="navbar-brand" href="#main" role="button">Knight Scout</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active js-navbar-item" data-active-page="#main">
						<a class="nav-link" href="#main" role="button">Home</a>
					</li>
					<li class="nav-item dropdown js-navbar-item" data-active-page="#scout-page">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Scout</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="#scout-page">Scout Home</a>
							<a class="dropdown-item" href="#scout-sheet">Scout Sheet</a>
						</div>
					</li>
					<li class="nav-item js-navbar-item" data-active-page="#collect-page">
						<a class="nav-link" href="#collect-page" role="button">Collector</a>
					</li>
				</ul>
			</div>
		</nav>
		<section class="c-splash-screen o-page--full-screen js-splash-screen">
			<img src="assets/Double Ring-2.3s-200px.svg" />
		</section>
		<section class="o-page" data-role="page" id="event_select">
			<div class="modal fade js-event-select-modal" id="event_select_modal" tabindex="-1" role="dialog" aria-labelledby="event_select_modal_title" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
						<form class="js-event-select-form">
							<div class="modal-header">
								<h5 class="modal-title" id="event_select_modal_title">Event Information</h5>
							</div>
							<div class="modal-body">
								<p>Please enter the event code and season year information for the event you are currently scouting</p>
								<div class="form-group">
									<label for="event_select_year">Season Year</label>
									<input type="number" class="form-control" id="event_select_year" placeholder="Season year" data-bind="value: event().event_year">
								</div>
								<div class="form-group">
									<label for="event_select_key">Event Code</label>
									<input type="text" class="form-control" id="event_select_key" placeholder="Event code" data-bind="value: event().event_key">
								</div>
							</div>
							<div class="modal-footer">
								<p>Current year: <span data-bind="text: event().event_year"></span>, current event: <span data-bind="text: event().event_key"></span></p>
								<button type="submit" class="btn btn-success" data-bind="click: save">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</section>
		<section class="o-page" data-role="page" id="main">
			<div class="container">
				<div class="jumbotron">
					<h1 class="display-4">Welcome to the 296 Scouting Alpha!</h1>
					<p class="lead">Please select your role:</p>
					<br>
					<a class="btn btn-success btn-lg" href="#scout-page" role="button">Scout</a>
					<a class="btn btn-primary btn-lg" href="#collect-page" role="button">Collector</a>
				</div>
				<div class="card js-bind-app-state">
					<div class="card-header">
						Current Event
					</div>
					<div class="card-body">
						<h5 class="card-title">Currently Scouting</h5>
						<p class="card-text">Event: <span data-bind="text: current_event().event_key"></span></p>
						<p class="card-text">Season: <span data-bind="text: current_event().event_year"></span></p>
					</div>
				</div>
			</div>
		</section>
		<section class="o-page" data-role="page" id="scout-page">
			<div class="container">
				<div class="jumbotron">
					<h1>Welcome Scout!</h1>
					<br>
					<a class="btn btn-success btn-lg" href="#scout-sheet" role="button">Scout a match</a>
				</div>
			</div>
		</section>
		<section class="o-page" data-role="page" id="collect-page">
			<div class="container">
				<div class="jumbotron">
					<h1>Welcome Collector!</h1>
					<br>
					<button class="btn btn-success btn-lg js-scan-report">Scan Report</button>
				</div>
				<h2>Latest Results</h2>
				<div>
					<table class="js-results-table"></table>
				</div>
			</div>
		</section>

		<script type="text/javascript" src="cordova.js"></script>

		<script type="text/javascript" src="js/vendor/jquery-3.3.1.min.js"></script>
		<script type="text/javascript" src="js/vendor/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/vendor/bootstrap.bundle.min.js"></script>
		<script type="text/javascript" src="js/vendor/knockout-3.4.2.js"></script>

		<script type="text/javascript" src="js/private.js"></script>
		<script type="text/javascript" src="js/globals.js"></script>
		<script type="text/javascript" src="js/pages.js"></script>
		<script type="text/javascript" src="js/event.js"></script>
		<script>
			window.app_state = new AppState();

			$('.js-bind-app-state').get().forEach(element => ko.applyBindings(window.app_state, element));

			console.log('Current Storage Usage:');
			var _lsTotal=0,_xLen,_x;for(_x in localStorage){ if(!localStorage.hasOwnProperty(_x)){continue;} _xLen= ((localStorage[_x].length + _x.length)* 2);_lsTotal+=_xLen; console.log(_x.substr(0,50)+" = "+ (_xLen/1024).toFixed(2)+" KB")};console.log("Total = " + (_lsTotal / 1024).toFixed(2) + " KB");
		</script>
	</body>
</html>


